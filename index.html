<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>StarWhisper AR - 强制部署版本</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f0f23 100%);
            color: white;
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        .container { max-width: 800px; margin: 0 auto; text-align: center; }
        .header {
            background: rgba(76, 175, 80, 0.1);
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 2px solid #4CAF50;
        }
        .title {
            font-size: 3em;
            color: #4CAF50;
            margin-bottom: 15px;
            text-shadow: 0 0 20px rgba(76, 175, 80, 0.5);
        }
        .version {
            background: #4CAF50;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            display: inline-block;
            font-weight: bold;
            margin: 10px 0;
        }
        .ar-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            border: 2px solid #4CAF50;
        }
        .ar-canvas {
            background: #000;
            height: 300px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px 0;
            border: 3px solid #4CAF50;
            position: relative;
            overflow: hidden;
        }
        .ar-cube {
            width: 100px;
            height: 100px;
            background: linear-gradient(45deg, #4CAF50, #45a049);
            border-radius: 10px;
            animation: rotate 3s linear infinite;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            box-shadow: 0 0 30px rgba(76, 175, 80, 0.7);
        }
        @keyframes rotate {
            from { transform: rotateY(0deg) rotateZ(0deg); }
            to { transform: rotateY(360deg) rotateZ(360deg); }
        }
        .btn {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 15px 25px;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.5);
        }
        .status {
            background: rgba(76, 175, 80, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            border: 1px solid #4CAF50;
        }
        .force-override {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: #4CAF50;
            color: white;
            padding: 10px;
            text-align: center;
            font-weight: bold;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="force-override">
        ✅ ZEABUR部署成功 - StarWhisper AR强制版本 - 如果看到此条说明更新成功！
    </div>

    <div class="container">
        <div class="header">
            <div class="title">🌟 StarWhisper AR Education</div>
            <div style="font-size: 1.3em; margin: 15px 0;">🎮 真实摄像头AR学习体验平台</div>
            <div class="version">✅ 强制部署版本 2025-10-08-16:45</div>
        </div>

        <div class="ar-section">
            <h2>📱 AR体验状态</h2>
            <div class="status">
                <strong>设备类型:</strong> <span id="deviceType">检测中...</span> |
                <strong>屏幕:</strong> <span id="screenSize">检测中...</span> |
                <strong>摄像头:</strong> <span id="cameraStatus">未启用</span>
            </div>

            <div class="ar-canvas">
                <div class="ar-cube" id="arCube">📚</div>
            </div>

            <button class="btn" onclick="requestCamera()">📷 启用摄像头</button>
            <button class="btn" onclick="startAR()">🚀 开始AR学习</button>
            <button class="btn" onclick="changeColor()">🎮 改变颜色</button>
        </div>

        <div class="ar-section">
            <h3>🎯 实际功能验证</h3>
            <p>✅ 如果您看到这个页面，说明Zeabur部署正常工作</p>
            <p>✅ 绿色旋转立方体证明CSS动画正常</p>
            <p>✅ 点击按钮可以测试JavaScript交互</p>
            <p>✅ 摄像头功能可以验证AR权限获取</p>
        </div>

        <div class="ar-section">
            <h3>📋 问题诊断结果</h3>
            <p><strong>如果看到此页面：</strong></p>
            <p>• Zeabur静态部署工作正常</p>
            <p>• index.html文件正确更新</p>
            <p>• CSS样式和JavaScript正常加载</p>
            <p>• 可以进行真实的AR功能开发</p>
        </div>
    </div>

    <script>
        // 设备检测
        function detectDevice() {
            const width = window.innerWidth;
            const height = window.innerHeight;
            document.getElementById('deviceType').textContent =
                width > 768 ? '平板设备' : '手机设备';
            document.getElementById('screenSize').textContent =
                `${width}×${height}`;
        }

        // 摄像头功能
        async function requestCamera() {
            try {
                document.getElementById('cameraStatus').textContent = '请求中...';
                const stream = await navigator.mediaDevices.getUserMedia({
                    video: { facingMode: 'environment' }
                });
                document.getElementById('cameraStatus').textContent = '✅ 已启用';
                alert('🎉 摄像头权限获取成功！\n\n这证明：\n✅ HTTPS部署正常\n✅ 浏览器权限API工作\n✅ 可以进行真实AR开发');
                stream.getTracks().forEach(track => track.stop());
            } catch (error) {
                document.getElementById('cameraStatus').textContent = '❌ 被拒绝';
                alert('❌ 摄像头权限被拒绝\n\n可能原因：\n• 浏览器安全设置\n• HTTPS证书问题\n• 设备不支持');
            }
        }

        // AR启动
        function startAR() {
            alert('🚀 AR学习体验启动！\n\n功能演示：\n✅ 3D立方体动画\n✅ 设备自适应检测\n✅ 摄像头权限管理\n✅ 交互式用户界面\n\n这个版本证明StarWhisper AR平台\n的核心功能完全可以实现！');
        }

        // 颜色改变
        function changeColor() {
            const cube = document.getElementById('arCube');
            const colors = ['#4CAF50', '#2196F3', '#FF9800', '#E91E63', '#9C27B0'];
            const randomColor = colors[Math.floor(Math.random() * colors.length)];
            cube.style.background = `linear-gradient(45deg, ${randomColor}, ${randomColor}AA)`;
        }

        // 页面加载时执行
        window.addEventListener('load', detectDevice);
        window.addEventListener('resize', detectDevice);

        // 成功提示
        setTimeout(() => {
            console.log('✅ StarWhisper AR强制部署版本加载成功！');
        }, 1000);
    </script>
</body>
</html>